<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MG // TERMINAL</title>
    <style>
        :root {
            --neon: #39ff14;
            --glass: rgba(255, 255, 255, 0.03);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Courier New', monospace; }

        body {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #000;
            color: #fff;
            overflow: hidden;
        }

        /* Video Background */
        .video-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -2;
            filter: brightness(0.3) contrast(1.2);
        }
        #bg-video { width: 100%; height: 100%; object-fit: cover; }

        /* Lethargic Glass Box */
        .glass-box {
            position: relative;
            background: var(--glass);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 2px solid var(--neon);
            padding: 40px;
            width: 450px;
            box-shadow: 0 0 25px rgba(57, 255, 20, 0.2);
            animation: glitch-anim 6s infinite;
        }

        /* Glossy Reflection */
        .glass-box::before {
            content: "";
            position: absolute;
            top: -50%; left: -50%; width: 200%; height: 200%;
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 50%);
            transform: rotate(25deg);
            pointer-events: none;
        }

        h2 { text-align: center; letter-spacing: 4px; color: var(--neon); margin-bottom: 25px; text-shadow: 0 0 8px var(--neon); }

        .input-group { margin-bottom: 15px; }
        label { font-size: 11px; text-transform: uppercase; color: var(--neon); display: block; margin-bottom: 5px; }

        input, select {
            width: 100%;
            padding: 10px;
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(57, 255, 20, 0.4);
            color: #fff;
            outline: none;
        }

        input:focus { border-color: #fff; box-shadow: 0 0 10px var(--neon); }

        .btn {
            width: 100%;
            padding: 15px;
            background: var(--neon);
            color: #000;
            border: none;
            font-weight: bold;
            cursor: pointer;
            margin-top: 15px;
            clip-path: polygon(0 0, 100% 0, 100% 80%, 90% 100%, 0 100%);
        }

        /* Glitch Animation */
        @keyframes glitch-anim {
            0%, 90% { transform: translate(0); }
            91% { transform: translate(4px, -2px); filter: hue-rotate(90deg); }
            92% { transform: translate(-4px, 2px); }
            93% { transform: translate(0); }
        }

        select option { background: #000; color: #fff; }
    </style>
</head>
<body>

    <div class="video-bg">
        <video autoplay muted loop playsinline id="bg-video">
            <source src="{{ url_for('static', filename='videos/background.mp4') }}" type="video/mp4">
        </video>
    </div>

    <div class="glass-box">
        <h2>CORE_REGISTRATION</h2>
        <form action="/submit" method="POST">
            <div class="input-group">
                <label>Gamer Handle</label>
                <input type="text" name="username" placeholder="INPUT ID..." required>
            </div>

            <div class="input-group">
                <label>Main Software</label>
                <select name="favorite_game" id="game-select" onchange="updateRanks()" required>
                    <option value="" disabled selected>CHOOSE GAME...</option>
                    <option value="Valorant">VALORANT</option>
                    <option value="League of Legends">LOL</option>
                    <option value="Mobile Legends">MLBB</option>
                    <option value="Apex Legends">APEX</option>
                </select>
            </div>

            <div class="input-group">
                <label>Ranking Tier</label>
                <select name="rank" id="rank-select" required>
                    <option value="" disabled selected>AWAITING GAME...</option>
                </select>
            </div>

            <div style="display: flex; gap: 10px;">
                <div class="input-group" style="flex:1;">
                    <label>Region</label>
                    <select name="region">
                        <option value="SEA">SEA</option>
                        <option value="NA">NA</option>
                        <option value="EU">EU</option>
                    </select>
                </div>
                <div class="input-group" style="flex:1;">
                    <label>Platform</label>
                    <select name="platform">
                        <option value="PC">PC</option>
                        <option value="MOBILE">MOBILE</option>
                    </select>
                </div>
            </div>

            <button type="submit" class="btn">INITIALIZE_UPLOAD</button>
        </form>
    </div>

    <script>
        const gameRanks = {
            "Valorant": ["Iron", "Bronze", "Silver", "Gold", "Platinum", "Diamond", "Ascendant", "Immortal", "Radiant"],
            "League of Legends": ["Iron", "Bronze", "Silver", "Gold", "Platinum", "Emerald", "Diamond", "Master", "Challenger"],
            "Mobile Legends": ["Warrior", "Elite", "Master", "Epic", "Legend", "Mythic", "Immortal"],
            "Apex Legends": ["Bronze", "Silver", "Gold", "Platinum", "Diamond", "Master", "Predator"]
        };

        function updateRanks() {
            const gameSelect = document.getElementById('game-select');
            const rankSelect = document.getElementById('rank-select');
            const selectedGame = gameSelect.value;
            rankSelect.innerHTML = '<option value="" disabled selected>SELECT RANK...</option>';
            if (gameRanks[selectedGame]) {
                gameRanks[selectedGame].forEach(rank => {
                    let option = document.createElement('option');
                    option.value = rank;
                    option.text = rank.toUpperCase();
                    rankSelect.appendChild(option);
                });
            }
        }
    </script>
</body>
</html>